<!-- Image Modal Content -->
<div id="imageModal" class="fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50"
     @click="closeModal()">
    <div class="max-w-4xl w-full mx-4" @click.stop>
        <div class="bg-white rounded-lg shadow-2xl overflow-hidden">
            <div class="p-4 bg-tertiary text-white flex justify-between items-center">
                <h3 class="text-xl font-semibold">
                    Report Image - {{ report_date }}
                    {% if caption %} - {{ caption }}{% endif %}
                </h3>
                <button class="text-white hover:text-gray-200 focus:outline-none"
                        @click="closeModal()">
                    <i class="fas fa-times text-xl"></i>
                </button>
            </div>
            <div class="relative">
                <div class="p-4">
                    <img src="{{ image_url }}" 
                         alt="Full size image" 
                         class="w-full h-auto rounded-lg">
                </div>
                {% if has_prev or has_next %}
                <div class="absolute inset-y-0 left-0 right-0 flex justify-between items-center px-4">
                    {% if has_prev %}
                    <button hx-get="{% url 'view_image' report_id prev_index %}"
                            hx-target="#imageModal"
                            class="bg-black bg-opacity-50 text-white p-2 rounded-full hover:bg-opacity-75 focus:outline-none">
                        <i class="fas fa-chevron-left"></i>
                    </button>
                    {% endif %}
                    {% if has_next %}
                    <button hx-get="{% url 'view_image' report_id next_index %}"
                            hx-target="#imageModal"
                            class="bg-black bg-opacity-50 text-white p-2 rounded-full hover:bg-opacity-75 focus:outline-none">
                        <i class="fas fa-chevron-right"></i>
                    </button>
                    {% endif %}
                </div>
                {% endif %}
            </div>
        </div>
    </div>
</div>
